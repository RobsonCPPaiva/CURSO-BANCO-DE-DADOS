
/*CRIANDO O BANCO DE DADOS*/
CREATE DATABASE livraria;

/*CONECTANDO NO BANCO DE DADOS*/
USE livraria;

/*CRIANDO A TABELA LIVROS*/

CREATE TABLE livros(
    idLivro INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
    nomeLivro VARCHAR(60),
    nomeAutor VARCHAR(100),
    sexoAutor VARCHAR(9),
    numeroPaginas INT,
    nomeEditora VARCHAR(50),
    valorLivro FLOAT,
    UFeditora CHAR(2),
    anoPublicacao INT
);
/*tabela cliente*/
CREATE TABLE cliente(
    idCliente INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
    nome VARCHAR(50),
    endereco VARCHAR(100) NOT NULL
);

/*TABELA TELEFONE*/
CREATE TABLE telefone(
    idTelefone INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
    id_cliente INT
);
/*ADICIONANDO AS CHAVES ESTRANGEIRAS*/
ALTER TABLE telefone ADD FOREIGN KEY(id_cliente)
REFERENCES cliente(idCliente);

/*ADICIONANDO OS REGISTROS NA TABELA LIVROS*/

INSERT INTO livros VALUES(NULL,"CAVALEIRO REAL", "ANA CLAUDIA","FEMININO",465,"ATLAS",49.90,"RJ",2009);
INSERT INTO livros VALUES(NULL,"SQL PARA LEIGOS", "JOÃO NUNES","MASCULINO",450,"ADDISON",98,"SP",2018);
INSERT INTO livros VALUES(NULL,"RECEITAS CASEIRAS", "CELIA TAVARES","FEMININO",210,"ATLAS",45,"RJ",2008);
INSERT INTO livros VALUES(NULL,"PESSOAS EFETIVAS", "EDUARDO SANTOS","MASCULINO",390,"BETA",78.99,"RJ",2018);
INSERT INTO livros VALUES(NULL,"HABITOS SAUDÁVEIS", "EDUARDO SANTOS","MASCULINO",630,"BETA",150.98,"RJ",2019);
INSERT INTO livros VALUES(NULL,"A CASA MARROM", "HERMES MACEDO","MASCULINO",250,"BUDDA",49.90,"RJ",2009);
INSERT INTO livros VALUES(NULL,"ESTACIO QUERIDO", "GERALDO FRANCISCO","MASCULINO",310,"INSIGNIA",100,"ES",2015);
INSERT INTO livros VALUES(NULL,"PRA SEMPRE AMIGAS", "LEDA SILVA","FEMININO",510,"INSIGNIA",78.98,"ES",2011);
INSERT INTO livros VALUES(NULL,"COPAS INESQUECIVEL", "MARCOS ALCANTARA","MASCULINO",200,"LARSON",130,98,"RS",2018);
INSERT INTO livros VALUES(NULL,"O PODER DA MENTE", "CLARA MAFRA","FEMININO",120,"CONTINENTAL",56.58,"RS",2017);

/*MOSTRANDO AS PROJEÇÕES*/

/*1 - MOSTRANDO TODOS OS DADOS*/

SELECT * FROM LIVROS;

/*2 - TRAZER O NOME DO LIVRO E O NOME DA EDITORA*/

SELECT nomeLivro AS LIVROS, nomeEditora AS EDITORAS FROM LIVROS;

/*3 - TRAZER O NOME DO LIVRO E A UF DOS LIVROS PUBLICADO POR AUTORES MASCULINOS*/

SELECT nomeLivro AS LIVROS,UFeditora AS UF FROM livros
WHERE sexoAutor = "MASCULINO";

/*4 - TRAZER O NOME DO LIVRO E O NÚMERO DE PÁGINAS DOS LIVROS PUBLICADO POR AUTORS DO SEXO FEMININO*/

SELECT nomeLivro AS LIVROS, numeroPaginas AS "NUMERO DE PAGINAS" FROM LIVROS
WHERE sexoAutor = "FEMININO";

/*5 - TRAZER OS VALORES DOS LIVROS DAS EDITORAS DE SÃO PAULO*/
 SELECT valorLivro AS "VALOR UNITARIO" FROM LIVROS
 WHERE UFeditora = "SP";